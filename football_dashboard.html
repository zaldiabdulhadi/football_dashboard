
<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Football Player Performance Dashboard</title>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<style>
:root{--bg:#f7f9fc;--card:#fff;--accent:#0d6efd;--muted:#6c757d}
body{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);margin:18px;color:#111}
.container{max-width:1200px;margin:0 auto}
header{text-align:center;margin-bottom:12px}
h1{margin:6px 0;color:var(--accent)}
.card{background:var(--card);border-radius:10px;padding:12px;box-shadow:0 6px 20px rgba(20,30,50,0.06);margin-bottom:12px}
.controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
select,button{padding:8px 10px;border-radius:8px;border:1px solid #e6eef8;background:white;font-size:0.95rem}
.kpi-table{width:100%;border-collapse:collapse;margin-top:8px}
.kpi-table th,.kpi-table td{padding:8px 10px;border-bottom:1px solid #f0f3f8;text-align:center}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.plot{width:100%;height:480px}
.small-note{color:var(--muted);font-size:0.95rem;margin-top:6px}
.interp{white-space:pre-wrap;background:#f0f8ff;padding:12px;border-radius:8px;border:1px solid #e6f2ff;margin-top:8px}
@media(max-width:1000px){.grid{grid-template-columns:1fr}.plot{height:420px}}
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>‚öΩ Football Player Performance Dashboard</h1>
    <div class="card">
      <p style="margin:0;">
        Dashboard interaktif ini membantu mengeksplorasi hubungan antara atribut performa pemain dan nilai pasar (market value). Pilih liga dan variabel untuk menyesuaikan analisis.
      </p>
    </div>
  </header>

  <div class="card">
    <div class="controls">
      <label><strong>Filter Liga</strong></label>
      <select id="leagueSelect"><option>Semua Liga</option></select>

      <label><strong>Variabel X</strong></label>
      <select id="xSelect"></select>

      <label><strong>Variabel Y</strong></label>
      <select id="ySelect"></select>

      <button id="applyBtn">Terapkan</button>
      <button id="resetBtn">Reset</button>
    </div>

    <div id="sameVarDisclaimer" class="small-note" style="margin-top:8px; display:none; color:#b00;"></div>

    <div id="exec" style="margin-top:12px;">
      <h3>üìã Executive Summary</h3>
      <div id="execText" class="small-note"></div>
    </div>
  </div>

  <div class="card">
    <h4>üìä Ringkasan KPI</h4>
    <div id="kpiArea"></div>
  </div>

  <div class="card">
    <h4>‚öôÔ∏è Distribusi Pemain Berdasarkan Liga</h4>
    <div id="pie" class="plot"></div>
    <div id="pieInterp" class="interp"></div>
  </div>

  <div class="grid">
    <div class="card">
      <h4>üìà Scatter Plot</h4>
      <div id="scatter" class="plot"></div>
      <div id="scatterInterp" class="interp"></div>
    </div>

    <div class="card">
      <h4>üèÜ Bar Chart (Top 10 Market Value)</h4>
      <div id="bar" class="plot"></div>
      <div id="barInterp" class="interp"></div>
    </div>

    <div class="card">
      <h4>üü£ Box Plot (Distribusi Y)</h4>
      <div id="box" class="plot"></div>
      <div id="boxInterp" class="interp"></div>
    </div>

    <div class="card" style="grid-column: span 2;">
      <h4>üî¥ Heatmap Korelasi (Numerik)</h4>
      <div id="heat" class="plot"></div>
      <div id="heatInterp" class="interp"></div>
    </div>
  </div>

  <div class="card">
    <h4>üìë Analisis Temuan Dinamis</h4>
    <div id="analysisText" class="interp"></div>
  </div>

  <footer style="text-align:center;color:#666;margin-top:10px;">Generated from <strong>merged_df.csv</strong></footer>
</div>

<script>
const DATA = [{"Country": "USA", "League": "MLS", "Club": "(ACM)", "Player Names": "zlatan ibrahimovic", "Matches_Played": 31, "Substitution": 0, "Mins": 2998, "Goals": 31, "xG": 22.72, "xG Per Avg Match": 0.72, "Shots": 159, "OnTarget": 67, "Shots Per Avg Match": 5.04, "On Target Per Avg Match": 2.12, "Year": 2019, "value": 3500000}, {"Country": "Spain", "League": "La Liga", "Club": "(ATL)", "Player Names": "luis suarez", "Matches_Played": 22, "Substitution": 6, "Mins": 2126, "Goals": 16, "xG": 14.32, "xG Per Avg Match": 0.64, "Shots": 79, "OnTarget": 42, "Shots Per Avg Match": 3.53, "On Target Per Avg Match": 1.88, "Year": 2019, "value": 28000000}, {"Country": "Spain", "League": "La Liga", "Club": "(RMA)", "Player Names": "karim benzema", "Matches_Played": 36, "Substitution": 1, "Mins": 3207, "Goals": 21, "xG": 21.61, "xG Per Avg Match": 0.64, "Shots": 124, "OnTarget": 59, "Shots Per Avg Match": 3.67, "On Target Per Avg Match": 1.75, "Year": 2019, "value": 32000000}, {"Country": "Spain", "League": "La Liga", "Club": "(ALA)", "Player Names": "joselu", "Matches_Played": 31, "Substitution": 5, "Mins": 2990, "Goals": 11, "xG": 13.22, "xG Per Avg Match": 0.42, "Shots": 87, "OnTarget": 30, "Shots Per Avg Match": 2.76, "On Target Per Avg Match": 0.95, "Year": 2019, "value": 5000000}, {"Country": "Spain", "League": "La Liga", "Club": "(SEV)", "Player Names": "carlos fernandez", "Matches_Played": 21, "Substitution": 13, "Mins": 2428, "Goals": 10, "xG": 10.48, "xG Per Avg Match": 0.41, "Shots": 47, "OnTarget": 19, "Shots Per Avg Match": 1.84, "On Target Per Avg Match": 0.74, "Year": 2019, "value": 3000000}, {"Country": "Spain", "League": "La Liga", "Club": "(OSA)", "Player Names": "ante budimir", "Matches_Played": 33, "Substitution": 2, "Mins": 2923, "Goals": 13, "xG": 12.31, "xG Per Avg Match": 0.4, "Shots": 56, "OnTarget": 22, "Shots Per Avg Match": 1.82, "On Target Per Avg Match": 0.72, "Year": 2019, "value": 6000000}, {"Country": "Spain", "League": "La Liga", "Club": "(SOC)", "Player Names": "mikel oyarzabal", "Matches_Played": 36, "Substitution": 1, "Mins": 3247, "Goals": 10, "xG": 8.89, "xG Per Avg Match": 0.26, "Shots": 62, "OnTarget": 22, "Shots Per Avg Match": 1.81, "On Target Per Avg Match": 0.64, "Year": 2019, "value": 48000000}, {"Country": "Spain", "League": "La Liga", "Club": "(VIL)", "Player Names": "gerard moreno", "Matches_Played": 33, "Substitution": 2, "Mins": 2831, "Goals": 18, "xG": 16.09, "xG Per Avg Match": 0.54, "Shots": 89, "OnTarget": 34, "Shots Per Avg Match": 2.99, "On Target Per Avg Match": 1.14, "Year": 2019, "value": 16000000}, {"Country": "Spain", "League": "La Liga", "Club": "(BAR)", "Player Names": "lionel messi", "Matches_Played": 32, "Substitution": 1, "Mins": 3067, "Goals": 25, "xG": 21.63, "xG Per Avg Match": 0.67, "Shots": 159, "OnTarget": 68, "Shots Per Avg Match": 4.93, "On Target Per Avg Match": 2.11, "Year": 2019, "value": 112000000}, {"Country": "Spain", "League": "La Liga", "Club": "(RMA)", "Player Names": "sergio ramos", "Matches_Played": 35, "Substitution": 0, "Mins": 3100, "Goals": 11, "xG": 11.09, "xG Per Avg Match": 0.34, "Shots": 39, "OnTarget": 17, "Shots Per Avg Match": 1.2, "On Target Per Avg Match": 0.52, "Year": 2019, "value": 14000000}, {"Country": "Spain", "League": "La Liga", "Club": "(SEV)", "Player Names": "lucas ocampos", "Matches_Played": 31, "Substitution": 2, "Mins": 2929, "Goals": 14, "xG": 13.26, "xG Per Avg Match": 0.43, "Shots": 84, "OnTarget": 36, "Shots Per Avg Match": 2.72, "On Target Per Avg Match": 1.17, "Year": 2019, "value": 32000000}, {"Country": "Spain", "League": "La Liga", "Club": "(GET)", "Player Names": "jaime mata", "Matches_Played": 33, "Substitution": 1, "Mins": 2923, "Goals": 11, "xG": 12.0, "xG Per Avg Match": 0.39, "Shots": 58, "OnTarget": 23, "Shots Per Avg Match": 1.89, "On Target Per Avg Match": 0.75, "Year": 2019, "value": 8000000}, {"Country": "Spain", "League": "La Liga", "Club": "(CEL)", "Player Names": "iago aspas", "Matches_Played": 37, "Substitution": 0, "Mins": 3474, "Goals": 14, "xG": 15.72, "xG Per Avg Match": 0.43, "Shots": 84, "OnTarget": 39, "Shots Per Avg Match": 2.3, "On Target Per Avg Match": 1.07, "Year": 2019, "value": 16000000}, {"Country": "Portugal ", "League": "Primeira Liga", "Club": "(BRA)", "Player Names": "paulinho", "Matches_Played": 27, "Substitution": 2, "Mins": 2451, "Goals": 17, "xG": 14.96, "xG Per Avg Match": 0.58, "Shots": 89, "OnTarget": 38, "Shots Per Avg Match": 3.45, "On Target Per Avg Match": 1.47, "Year": 2019, "value": 13500000}, {"Country": "Portugal ", "League": "Primeira Liga", "Club": "(MNU)", "Player Names": "bruno fernandes", "Matches_Played": 17, "Substitution": 0, "Mins": 1656, "Goals": 8, "xG": 5.58, "xG Per Avg Match": 0.32, "Shots": 60, "OnTarget": 23, "Shots Per Avg Match": 3.44, "On Target Per Avg Match": 1.32, "Year": 2019, "value": 48000000}, {"Country": "Portugal ", "League": "Primeira Liga", "Club": "(BOA)", "Player Names": "angel gomes", "Matches_Played": 6, "Substitution": 0, "Mins": 530, "Goals": 3, "xG": 1.12, "xG Per Avg Match": 0.2, "Shots": 12, "OnTarget": 3, "Shots Per Avg Match": 2.15, "On Target Per Avg Match": 0.54, "Year": 2019, "value": 3000000}, {"Country": "Italy", "League": "Serie A", "Club": "(NAP)", "Player Names": "arkadiusz milik", "Matches_Played": 19, "Substitution": 7, "Mins": 1870, "Goals": 11, "xG": 9.45, "xG Per Avg Match": 0.48, "Shots": 68, "OnTarget": 29, "Shots Per Avg Match": 3.45, "On Target Per Avg Match": 1.47, "Year": 2019, "value": 32000000}, {"Country": "Italy", "League": "Serie A", "Club": "(INT)", "Player Names": "romelu lukaku", "Matches_Played": 33, "Substitution": 3, "Mins": 3156, "Goals": 23, "xG": 18.94, "xG Per Avg Match": 0.57, "Shots": 99, "OnTarget": 47, "Shots Per Avg Match": 2.98, "On Target Per Avg Match": 1.41, "Year": 2019, "value": 68000000}, {"Country": "Italy", "League": "Serie A", "Club": "(Sassuolo )", "Player Names": "francesco caputo", "Matches_Played": 33, "Substitution": 3, "Mins": 3125, "Goals": 21, "xG": 13.82, "xG Per Avg Match": 0.42, "Shots": 73, "OnTarget": 35, "Shots Per Avg Match": 2.22, "On Target Per Avg Match": 1.06, "Year": 2019, "value": 5000000}, {"Country": "Italy", "League": "Serie A", "Club": "(NAP)", "Player Names": "andrea petagna", "Matches_Played": 33, "Substitution": 3, "Mins": 3263, "Goals": 12, "xG": 13.74, "xG Per Avg Match": 0.4, "Shots": 110, "OnTarget": 33, "Shots Per Avg Match": 3.2, "On Target Per Avg Match": 0.96, "Year": 2019, "value": 14000000}, {"Country": "Italy", "League": "Serie A", "Club": "(JUV)", "Player Names": "cristiano ronaldo", "Matches_Played": 33, "Substitution": 0, "Mins": 3127, "Goals": 31, "xG": 27.32, "xG Per Avg Match": 0.83, "Shots": 208, "OnTarget": 79, "Shots Per Avg Match": 6.32, "On Target Per Avg Match": 2.4, "Year": 2019, "value": 60000000}, {"Country": "Italy", "League": "Serie A", "Club": "(SAS)", "Player Names": "domenico berardi", "Matches_Played": 29, "Substitution": 2, "Mins": 2654, "Goals": 14, "xG": 10.9, "xG Per Avg Match": 0.39, "Shots": 120, "OnTarget": 46, "Shots Per Avg Match": 4.3, "On Target Per Avg Match": 1.65, "Year": 2019, "value": 19000000}, {"Country": "Italy", "League": "Serie A", "Club": "(CAG)", "Player Names": "joao pedro", "Matches_Played": 35, "Substitution": 1, "Mins": 3394, "Goals": 18, "xG": 13.93, "xG Per Avg Match": 0.39, "Shots": 87, "OnTarget": 37, "Shots Per Avg Match": 2.44, "On Target Per Avg Match": 1.04, "Year": 2019, "value": 14000000}, {"Country": "Italy", "League": "Serie A", "Club": "(CAG)", "Player Names": "joao pedro", "Matches_Played": 35, "Substitution": 1, "Mins": 3394, "Goals": 18, "xG": 13.93, "xG Per Avg Match": 0.39, "Shots": 87, "OnTarget": 37, "Shots Per Avg Match": 2.44, "On Target Per Avg Match": 1.04, "Year": 2019, "value": 12000000}, {"Country": "Italy", "League": "Serie A", "Club": "(ATA)", "Player Names": "josip ilicic", "Matches_Played": 21, "Substitution": 5, "Mins": 1786, "Goals": 15, "xG": 9.78, "xG Per Avg Match": 0.52, "Shots": 81, "OnTarget": 36, "Shots Per Avg Match": 4.31, "On Target Per Avg Match": 1.91, "Year": 2019, "value": 15000000}, {"Country": "Italy", "League": "Serie A", "Club": null, "Player Names": "andreas cornelius", "Matches_Played": 17, "Substitution": 9, "Mins": 1637, "Goals": 12, "xG": 6.38, "xG Per Avg Match": 0.37, "Shots": 46, "OnTarget": 20, "Shots Per Avg Match": 2.67, "On Target Per Avg Match": 1.16, "Year": 2019, "value": 8000000}, {"Country": "Italy", "League": "Serie A", "Club": "(CAG)", "Player Names": "giovanni simeone", "Matches_Played": 34, "Substitution": 3, "Mins": 3115, "Goals": 12, "xG": 11.8, "xG Per Avg Match": 0.36, "Shots": 87, "OnTarget": 30, "Shots Per Avg Match": 2.65, "On Target Per Avg Match": 0.91, "Year": 2019, "value": 13000000}, {"Country": "Italy", "League": "Serie A", "Club": "(LAZ)", "Player Names": "ciro immobile", "Matches_Played": 36, "Substitution": 1, "Mins": 3371, "Goals": 36, "xG": 26.61, "xG Per Avg Match": 0.75, "Shots": 142, "OnTarget": 71, "Shots Per Avg Match": 4.0, "On Target Per Avg Match": 2.0, "Year": 2019, "value": 40000000}, {"Country": "Italy", "League": "Serie A", "Club": "(LEC)", "Player Names": "marco mancosu", "Matches_Played": 28, "Substitution": 5, "Mins": 2627, "Goals": 14, "xG": 15.21, "xG Per Avg Match": 0.55, "Shots": 84, "OnTarget": 31, "Shots Per Avg Match": 3.04, "On Target Per Avg Match": 1.12, "Year": 2019, "value": 2000000}, {"Country": "Italy", "League": "Serie A", "Club": "(ATA)", "Player Names": "duvan zapata", "Matches_Played": 25, "Substitution": 3, "Mins": 2143, "Goals": 18, "xG": 15.11, "xG Per Avg Match": 0.67, "Shots": 89, "OnTarget": 37, "Shots Per Avg Match": 3.95, "On Target Per Avg Match": 1.64, "Year": 2019, "value": 36000000}, {"Country": "Italy", "League": "Serie A", "Club": "(ATA)", "Player Names": "luis muriel", "Matches_Played": 10, "Substitution": 23, "Mins": 1370, "Goals": 18, "xG": 12.4, "xG Per Avg Match": 0.86, "Shots": 77, "OnTarget": 41, "Shots Per Avg Match": 5.34, "On Target Per Avg Match": 2.84, "Year": 2019, "value": 15000000}, {"Country": "Italy", "League": "Serie A", "Club": "(SAM)", "Player Names": "fabio quagliarella", "Matches_Played": 26, "Substitution": 2, "Mins": 2413, "Goals": 11, "xG": 13.72, "xG Per Avg Match": 0.54, "Shots": 102, "OnTarget": 35, "Shots Per Avg Match": 4.02, "On Target Per Avg Match": 1.38, "Year": 2019, "value": 1000000}, {"Country": "Italy", "League": "Serie A", "Club": "(BEN)", "Player Names": "gianluca lapadula", "Matches_Played": 20, "Substitution": 5, "Mins": 1906, "Goals": 11, "xG": 9.43, "xG Per Avg Match": 0.47, "Shots": 61, "OnTarget": 24, "Shots Per Avg Match": 3.04, "On Target Per Avg Match": 1.2, "Year": 2019, "value": 4000000}, {"Country": "Italy", "League": "Serie A", "Club": "(TOR)", "Player Names": "andrea belotti", "Matches_Played": 34, "Substitution": 2, "Mins": 3214, "Goals": 16, "xG": 16.58, "xG Per Avg Match": 0.49, "Shots": 104, "OnTarget": 41, "Shots Per Avg Match": 3.07, "On Target Per Avg Match": 1.21, "Year": 2019, "value": 32000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(DOR)", "Player Names": "jadon sancho", "Matches_Played": 25, "Substitution": 7, "Mins": 2387, "Goals": 17, "xG": 9.8, "xG Per Avg Match": 0.39, "Shots": 52, "OnTarget": 28, "Shots Per Avg Match": 2.07, "On Target Per Avg Match": 1.11, "Year": 2019, "value": 117000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(CHE)", "Player Names": "timo werner", "Matches_Played": 33, "Substitution": 1, "Mins": 2744, "Goals": 28, "xG": 20.8, "xG Per Avg Match": 0.72, "Shots": 123, "OnTarget": 63, "Shots Per Avg Match": 4.26, "On Target Per Avg Match": 2.18, "Year": 2019, "value": 64000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(WOB)", "Player Names": "wout weghorst", "Matches_Played": 30, "Substitution": 2, "Mins": 2893, "Goals": 16, "xG": 18.27, "xG Per Avg Match": 0.6, "Shots": 85, "OnTarget": 38, "Shots Per Avg Match": 2.79, "On Target Per Avg Match": 1.25, "Year": 2019, "value": 21000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(DOR)", "Player Names": "marco reus", "Matches_Played": 18, "Substitution": 1, "Mins": 1561, "Goals": 11, "xG": 8.54, "xG Per Avg Match": 0.52, "Shots": 47, "OnTarget": 24, "Shots Per Avg Match": 2.86, "On Target Per Avg Match": 1.46, "Year": 2019, "value": 32000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(CHE)", "Player Names": "kai havertz", "Matches_Played": 29, "Substitution": 1, "Mins": 2586, "Goals": 12, "xG": 9.53, "xG Per Avg Match": 0.35, "Shots": 59, "OnTarget": 26, "Shots Per Avg Match": 2.17, "On Target Per Avg Match": 0.96, "Year": 2019, "value": 81000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BMG)", "Player Names": "marcus thuram", "Matches_Played": 28, "Substitution": 3, "Mins": 2296, "Goals": 10, "xG": 10.15, "xG Per Avg Match": 0.42, "Shots": 56, "OnTarget": 36, "Shots Per Avg Match": 2.32, "On Target Per Avg Match": 1.49, "Year": 2019, "value": 22000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(DUS)", "Player Names": "rouwen hennings", "Matches_Played": 27, "Substitution": 5, "Mins": 2592, "Goals": 15, "xG": 10.91, "xG Per Avg Match": 0.4, "Shots": 73, "OnTarget": 27, "Shots Per Avg Match": 2.68, "On Target Per Avg Match": 0.99, "Year": 2019, "value": 2000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BAY)", "Player Names": "robert lewandowski", "Matches_Played": 31, "Substitution": 0, "Mins": 2783, "Goals": 34, "xG": 31.05, "xG Per Avg Match": 1.06, "Shots": 138, "OnTarget": 67, "Shots Per Avg Match": 4.71, "On Target Per Avg Match": 2.29, "Year": 2019, "value": 56000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(FCA)", "Player Names": "florian niederlechner", "Matches_Played": 31, "Substitution": 2, "Mins": 2846, "Goals": 13, "xG": 13.18, "xG Per Avg Match": 0.44, "Shots": 78, "OnTarget": 40, "Shots Per Avg Match": 2.6, "On Target Per Avg Match": 1.34, "Year": 2019, "value": 8000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(DOR)", "Player Names": "erling haaland", "Matches_Played": 11, "Substitution": 4, "Mins": 1116, "Goals": 12, "xG": 7.64, "xG Per Avg Match": 0.65, "Shots": 34, "OnTarget": 19, "Shots Per Avg Match": 2.89, "On Target Per Avg Match": 1.62, "Year": 2019, "value": 72000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(MON)", "Player Names": "kevin volland", "Matches_Played": 24, "Substitution": 3, "Mins": 2159, "Goals": 10, "xG": 11.59, "xG Per Avg Match": 0.51, "Shots": 78, "OnTarget": 32, "Shots Per Avg Match": 3.43, "On Target Per Avg Match": 1.41, "Year": 2019, "value": 28000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(SCF)", "Player Names": "nils petersen", "Matches_Played": 24, "Substitution": 10, "Mins": 2595, "Goals": 11, "xG": 8.47, "xG Per Avg Match": 0.31, "Shots": 55, "OnTarget": 19, "Shots Per Avg Match": 2.01, "On Target Per Avg Match": 0.7, "Year": 2019, "value": 6000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BMG)", "Player Names": "lars stindl", "Matches_Played": 14, "Substitution": 11, "Mins": 1518, "Goals": 9, "xG": 7.19, "xG Per Avg Match": 0.45, "Shots": 33, "OnTarget": 15, "Shots Per Avg Match": 2.07, "On Target Per Avg Match": 0.94, "Year": 2019, "value": 6000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(MAI)", "Player Names": "robin quaison", "Matches_Played": 31, "Substitution": 1, "Mins": 2718, "Goals": 13, "xG": 12.02, "xG Per Avg Match": 0.42, "Shots": 71, "OnTarget": 28, "Shots Per Avg Match": 2.48, "On Target Per Avg Match": 0.98, "Year": 2019, "value": 10000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BAY)", "Player Names": "serge gnabry", "Matches_Played": 26, "Substitution": 5, "Mins": 2216, "Goals": 12, "xG": 13.3, "xG Per Avg Match": 0.57, "Shots": 95, "OnTarget": 40, "Shots Per Avg Match": 4.07, "On Target Per Avg Match": 1.71, "Year": 2019, "value": 72000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(KOL)", "Player Names": "sebastian andersson", "Matches_Played": 31, "Substitution": 2, "Mins": 2813, "Goals": 12, "xG": 13.62, "xG Per Avg Match": 0.46, "Shots": 65, "OnTarget": 37, "Shots Per Avg Match": 2.2, "On Target Per Avg Match": 1.25, "Year": 2019, "value": 4000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BMG)", "Player Names": "alassane plea", "Matches_Played": 25, "Substitution": 2, "Mins": 2252, "Goals": 10, "xG": 11.62, "xG Per Avg Match": 0.49, "Shots": 77, "OnTarget": 35, "Shots Per Avg Match": 3.25, "On Target Per Avg Match": 1.48, "Year": 2019, "value": 35000000}, {"Country": "France", "League": "France Ligue 7", "Club": "(PSG)", "Player Names": "neymar", "Matches_Played": 15, "Substitution": 0, "Mins": 1396, "Goals": 12, "xG": 15.87, "xG Per Avg Match": 1.08, "Shots": 71, "OnTarget": 36, "Shots Per Avg Match": 4.83, "On Target Per Avg Match": 2.45, "Year": 2019, "value": 128000000}, {"Country": "France", "League": "France Ligue 13", "Club": "(MAR)", "Player Names": "dimitri payet", "Matches_Played": 22, "Substitution": 0, "Mins": 2057, "Goals": 9, "xG": 5.85, "xG Per Avg Match": 0.27, "Shots": 63, "OnTarget": 26, "Shots Per Avg Match": 2.91, "On Target Per Avg Match": 1.2, "Year": 2019, "value": 10000000}, {"Country": "France", "League": "France Ligue 6", "Club": "(PSG)", "Player Names": "mauro icardi", "Matches_Played": 14, "Substitution": 6, "Mins": 1353, "Goals": 12, "xG": 12.11, "xG Per Avg Match": 0.85, "Shots": 36, "OnTarget": 20, "Shots Per Avg Match": 2.53, "On Target Per Avg Match": 1.4, "Year": 2019, "value": 60000000}, {"Country": "France", "League": "France Ligue 15", "Club": "(LYO)", "Player Names": "memphis depay", "Matches_Played": 12, "Substitution": 1, "Mins": 1077, "Goals": 9, "xG": 4.53, "xG Per Avg Match": 0.4, "Shots": 48, "OnTarget": 21, "Shots Per Avg Match": 4.23, "On Target Per Avg Match": 1.85, "Year": 2019, "value": 44000000}, {"Country": "France", "League": "France Ligue 9", "Club": "(NIC)", "Player Names": "kasper dolberg", "Matches_Played": 22, "Substitution": 1, "Mins": 1994, "Goals": 11, "xG": 7.77, "xG Per Avg Match": 0.37, "Shots": 42, "OnTarget": 25, "Shots Per Avg Match": 2.0, "On Target Per Avg Match": 1.19, "Year": 2019, "value": 16000000}, {"Country": "France", "League": "France Ligue 20", "Club": "(STR)", "Player Names": "adrien thomasson", "Matches_Played": 24, "Substitution": 1, "Mins": 2168, "Goals": 7, "xG": 5.25, "xG Per Avg Match": 0.23, "Shots": 50, "OnTarget": 18, "Shots Per Avg Match": 2.19, "On Target Per Avg Match": 0.79, "Year": 2019, "value": 6000000}, {"Country": "France", "League": "France Ligue 12", "Club": "(MPE)", "Player Names": "andy delort", "Matches_Played": 26, "Substitution": 0, "Mins": 2409, "Goals": 9, "xG": 10.9, "xG Per Avg Match": 0.43, "Shots": 84, "OnTarget": 29, "Shots Per Avg Match": 3.31, "On Target Per Avg Match": 1.14, "Year": 2019, "value": 10000000}, {"Country": "France", "League": "France Ligue 2", "Club": "(MON)", "Player Names": "wissam ben yedder", "Matches_Played": 25, "Substitution": 1, "Mins": 2321, "Goals": 18, "xG": 12.95, "xG Per Avg Match": 0.53, "Shots": 64, "OnTarget": 36, "Shots Per Avg Match": 2.62, "On Target Per Avg Match": 1.47, "Year": 2019, "value": 40000000}, {"Country": "France", "League": "France Ligue 19", "Club": "(STR)", "Player Names": "ludovic ajorque", "Matches_Played": 24, "Substitution": 2, "Mins": 2163, "Goals": 8, "xG": 6.6, "xG Per Avg Match": 0.29, "Shots": 50, "OnTarget": 22, "Shots Per Avg Match": 2.2, "On Target Per Avg Match": 0.97, "Year": 2019, "value": 6000000}, {"Country": "France", "League": "France Ligue 14", "Club": "(LEI)", "Player Names": "islam slimani", "Matches_Played": 14, "Substitution": 4, "Mins": 1378, "Goals": 9, "xG": 8.7, "xG Per Avg Match": 0.6, "Shots": 53, "OnTarget": 20, "Shots Per Avg Match": 3.65, "On Target Per Avg Match": 1.38, "Year": 2019, "value": 6000000}, {"Country": "France", "League": "France Ligue 17", "Club": "(REN)", "Player Names": "adrien hunou", "Matches_Played": 13, "Substitution": 10, "Mins": 1325, "Goals": 8, "xG": 7.25, "xG Per Avg Match": 0.52, "Shots": 28, "OnTarget": 15, "Shots Per Avg Match": 2.01, "On Target Per Avg Match": 1.08, "Year": 2019, "value": 4000000}, {"Country": "France", "League": "France Ligue 10", "Club": "(STE)", "Player Names": "denis bouanga", "Matches_Played": 23, "Substitution": 3, "Mins": 2173, "Goals": 10, "xG": 9.38, "xG Per Avg Match": 0.41, "Shots": 78, "OnTarget": 37, "Shots Per Avg Match": 3.41, "On Target Per Avg Match": 1.62, "Year": 2019, "value": 8000000}, {"Country": "France", "League": "France Ligue 16", "Club": "(REN)", "Player Names": "sehrou guirassy", "Matches_Played": 23, "Substitution": 0, "Mins": 2030, "Goals": 9, "xG": 8.55, "xG Per Avg Match": 0.4, "Shots": 45, "OnTarget": 19, "Shots Per Avg Match": 2.11, "On Target Per Avg Match": 0.89, "Year": 2019, "value": 15000000}, {"Country": "France", "League": "France Ligue 5", "Club": "(STR)", "Player Names": "habib diallo", "Matches_Played": 26, "Substitution": 0, "Mins": 2344, "Goals": 12, "xG": 9.13, "xG Per Avg Match": 0.37, "Shots": 83, "OnTarget": 34, "Shots Per Avg Match": 3.36, "On Target Per Avg Match": 1.38, "Year": 2019, "value": 12000000}, {"Country": "France", "League": "France Ligue 4", "Club": "(NAP)", "Player Names": "victor osimhen", "Matches_Played": 25, "Substitution": 2, "Mins": 2434, "Goals": 13, "xG": 14.86, "xG Per Avg Match": 0.58, "Shots": 86, "OnTarget": 35, "Shots Per Avg Match": 3.36, "On Target Per Avg Match": 1.37, "Year": 2019, "value": 27000000}, {"Country": "England", "League": "Premier League", "Club": "(MNC)", "Player Names": "kevin de bruyne", "Matches_Played": 32, "Substitution": 3, "Mins": 2984, "Goals": 13, "xG": 7.22, "xG Per Avg Match": 0.23, "Shots": 99, "OnTarget": 31, "Shots Per Avg Match": 3.15, "On Target Per Avg Match": 0.99, "Year": 2019, "value": 120000000}, {"Country": "England", "League": "Premier League", "Club": "(LEI)", "Player Names": "jamie vardy", "Matches_Played": 34, "Substitution": 1, "Mins": 3271, "Goals": 23, "xG": 19.28, "xG Per Avg Match": 0.56, "Shots": 89, "OnTarget": 42, "Shots Per Avg Match": 2.58, "On Target Per Avg Match": 1.22, "Year": 2019, "value": 16000000}, {"Country": "England", "League": "Premier League", "Club": "(MNC)", "Player Names": "raheem sterling", "Matches_Played": 30, "Substitution": 3, "Mins": 2836, "Goals": 20, "xG": 20.3, "xG Per Avg Match": 0.68, "Shots": 99, "OnTarget": 38, "Shots Per Avg Match": 3.32, "On Target Per Avg Match": 1.27, "Year": 2019, "value": 128000000}, {"Country": "England", "League": "Premier League", "Club": "(BUR)", "Player Names": "chris wood", "Matches_Played": 29, "Substitution": 3, "Mins": 2616, "Goals": 14, "xG": 17.07, "xG Per Avg Match": 0.62, "Shots": 65, "OnTarget": 29, "Shots Per Avg Match": 2.36, "On Target Per Avg Match": 1.05, "Year": 2019, "value": 14000000}, {"Country": "England", "League": "Premier League", "Club": "(MNU)", "Player Names": "anthony martial", "Matches_Played": 31, "Substitution": 1, "Mins": 2788, "Goals": 17, "xG": 11.74, "xG Per Avg Match": 0.4, "Shots": 80, "OnTarget": 39, "Shots Per Avg Match": 2.73, "On Target Per Avg Match": 1.33, "Year": 2019, "value": 48000000}, {"Country": "England", "League": "Premier League", "Club": "(MNC)", "Player Names": "riyad mahrez", "Matches_Played": 21, "Substitution": 12, "Mins": 2130, "Goals": 11, "xG": 7.62, "xG Per Avg Match": 0.34, "Shots": 74, "OnTarget": 31, "Shots Per Avg Match": 3.3, "On Target Per Avg Match": 1.38, "Year": 2019, "value": 48000000}, {"Country": "England", "League": "Premier League", "Club": "(MNU)", "Player Names": "marcus rashford", "Matches_Played": 31, "Substitution": 0, "Mins": 2826, "Goals": 17, "xG": 19.93, "xG Per Avg Match": 0.67, "Shots": 95, "OnTarget": 44, "Shots Per Avg Match": 3.19, "On Target Per Avg Match": 1.48, "Year": 2019, "value": 64000000}, {"Country": "England", "League": "Premier League", "Club": "(LIV)", "Player Names": "mohamed salah", "Matches_Played": 33, "Substitution": 1, "Mins": 3045, "Goals": 19, "xG": 20.51, "xG Per Avg Match": 0.64, "Shots": 132, "OnTarget": 59, "Shots Per Avg Match": 4.12, "On Target Per Avg Match": 1.84, "Year": 2019, "value": 120000000}, {"Country": "England", "League": "Premier League", "Club": "(MNC)", "Player Names": "gabriel jesus", "Matches_Played": 21, "Substitution": 13, "Mins": 2209, "Goals": 14, "xG": 20.69, "xG Per Avg Match": 0.89, "Shots": 101, "OnTarget": 46, "Shots Per Avg Match": 4.34, "On Target Per Avg Match": 1.98, "Year": 2019, "value": 56000000}, {"Country": "England", "League": "Premier League", "Club": "(SOU)", "Player Names": "danny ings", "Matches_Played": 32, "Substitution": 6, "Mins": 3009, "Goals": 22, "xG": 16.79, "xG Per Avg Match": 0.53, "Shots": 93, "OnTarget": 37, "Shots Per Avg Match": 2.94, "On Target Per Avg Match": 1.17, "Year": 2019, "value": 17000000}, {"Country": "England", "League": "Premier League", "Club": "(TOT)", "Player Names": "harry kane", "Matches_Played": 29, "Substitution": 0, "Mins": 2801, "Goals": 18, "xG": 12.97, "xG Per Avg Match": 0.44, "Shots": 81, "OnTarget": 37, "Shots Per Avg Match": 2.75, "On Target Per Avg Match": 1.25, "Year": 2019, "value": 120000000}, {"Country": "England", "League": "Premier League", "Club": "(EVE)", "Player Names": "richarlison", "Matches_Played": 36, "Substitution": 0, "Mins": 3289, "Goals": 13, "xG": 10.73, "xG Per Avg Match": 0.31, "Shots": 90, "OnTarget": 32, "Shots Per Avg Match": 2.6, "On Target Per Avg Match": 0.92, "Year": 2019, "value": 60000000}, {"Country": "England", "League": "Premier League", "Club": "(NOR)", "Player Names": "teemu pukki", "Matches_Played": 33, "Substitution": 3, "Mins": 3087, "Goals": 11, "xG": 11.37, "xG Per Avg Match": 0.35, "Shots": 80, "OnTarget": 35, "Shots Per Avg Match": 2.46, "On Target Per Avg Match": 1.08, "Year": 2019, "value": 8000000}, {"Country": "England", "League": "Premier League", "Club": "(CHE)", "Player Names": "tammy abraham", "Matches_Played": 25, "Substitution": 9, "Mins": 2380, "Goals": 15, "xG": 19.29, "xG Per Avg Match": 0.77, "Shots": 88, "OnTarget": 35, "Shots Per Avg Match": 3.51, "On Target Per Avg Match": 1.4, "Year": 2019, "value": 40000000}, {"Country": "Brazil", "League": "Campeonato Brasileiro S√É¬©rie A", "Club": "(SAN)", "Player Names": "carlos sanchez", "Matches_Played": 27, "Substitution": 7, "Mins": 2648, "Goals": 12, "xG": 11.99, "xG Per Avg Match": 0.43, "Shots": 85, "OnTarget": 29, "Shots Per Avg Match": 3.05, "On Target Per Avg Match": 1.04, "Year": 2019, "value": 1000000}, {"Country": " Netherlands", "League": "Eredivisie", "Club": "(AJA)", "Player Names": "davy klaassen", "Matches_Played": 6, "Substitution": 0, "Mins": 490, "Goals": 5, "xG": 4.02, "xG Per Avg Match": 0.78, "Shots": 13, "OnTarget": 8, "Shots Per Avg Match": 2.52, "On Target Per Avg Match": 1.55, "Year": 2019, "value": 12000000}, {"Country": "Spain", "League": "La Liga", "Club": "(SOC)", "Player Names": "portu", "Matches_Played": 6, "Substitution": 5, "Mins": 691, "Goals": 4, "xG": 1.53, "xG Per Avg Match": 0.21, "Shots": 6, "OnTarget": 4, "Shots Per Avg Match": 0.82, "On Target Per Avg Match": 0.55, "Year": 2020, "value": 16000000}, {"Country": "Spain", "League": "La Liga", "Club": "(RMA)", "Player Names": "karim benzema", "Matches_Played": 8, "Substitution": 0, "Mins": 741, "Goals": 4, "xG": 4.91, "xG Per Avg Match": 0.63, "Shots": 27, "OnTarget": 12, "Shots Per Avg Match": 3.46, "On Target Per Avg Match": 1.54, "Year": 2020, "value": 32000000}, {"Country": "Spain", "League": "La Liga", "Club": "(VAL)", "Player Names": "carlos soler", "Matches_Played": 6, "Substitution": 1, "Mins": 599, "Goals": 4, "xG": 3.34, "xG Per Avg Match": 0.53, "Shots": 8, "OnTarget": 5, "Shots Per Avg Match": 1.27, "On Target Per Avg Match": 0.79, "Year": 2020, "value": 40000000}, {"Country": "Spain", "League": "La Liga", "Club": "(BET)", "Player Names": "cristian tello", "Matches_Played": 7, "Substitution": 4, "Mins": 629, "Goals": 4, "xG": 1.92, "xG Per Avg Match": 0.29, "Shots": 22, "OnTarget": 8, "Shots Per Avg Match": 3.32, "On Target Per Avg Match": 1.21, "Year": 2020, "value": 4000000}, {"Country": "Spain", "League": "La Liga", "Club": "(SOC)", "Player Names": "mikel oyarzabal", "Matches_Played": 9, "Substitution": 2, "Mins": 736, "Goals": 7, "xG": 6.82, "xG Per Avg Match": 0.88, "Shots": 31, "OnTarget": 16, "Shots Per Avg Match": 4.0, "On Target Per Avg Match": 2.07, "Year": 2020, "value": 48000000}, {"Country": "Spain", "League": "La Liga", "Club": "(EIB)", "Player Names": "esteban burgos", "Matches_Played": 6, "Substitution": 1, "Mins": 589, "Goals": 3, "xG": 2.85, "xG Per Avg Match": 0.46, "Shots": 5, "OnTarget": 4, "Shots Per Avg Match": 0.81, "On Target Per Avg Match": 0.65, "Year": 2020, "value": 72500}, {"Country": "Spain", "League": "La Liga", "Club": "(BAR)", "Player Names": "lionel messi", "Matches_Played": 8, "Substitution": 1, "Mins": 824, "Goals": 4, "xG": 5.46, "xG Per Avg Match": 0.63, "Shots": 39, "OnTarget": 19, "Shots Per Avg Match": 4.5, "On Target Per Avg Match": 2.19, "Year": 2020, "value": 112000000}, {"Country": "Spain", "League": "La Liga", "Club": "(ATL)", "Player Names": "luis suarez", "Matches_Played": 5, "Substitution": 1, "Mins": 387, "Goals": 5, "xG": 3.3, "xG Per Avg Match": 0.81, "Shots": 22, "OnTarget": 8, "Shots Per Avg Match": 5.4, "On Target Per Avg Match": 1.96, "Year": 2020, "value": 28000000}, {"Country": "Spain", "League": "La Liga", "Club": "(VIL)", "Player Names": "paco alcacer", "Matches_Played": 9, "Substitution": 0, "Mins": 693, "Goals": 5, "xG": 5.11, "xG Per Avg Match": 0.7, "Shots": 16, "OnTarget": 8, "Shots Per Avg Match": 2.19, "On Target Per Avg Match": 1.1, "Year": 2020, "value": 28000000}, {"Country": "Spain", "League": "La Liga", "Club": "(VIL)", "Player Names": "paco alcacer", "Matches_Played": 9, "Substitution": 0, "Mins": 693, "Goals": 5, "xG": 5.11, "xG Per Avg Match": 0.7, "Shots": 16, "OnTarget": 8, "Shots Per Avg Match": 2.19, "On Target Per Avg Match": 1.1, "Year": 2020, "value": 28000000}, {"Country": "Spain", "League": "La Liga", "Club": "(RMA)", "Player Names": "federico valverde", "Matches_Played": 6, "Substitution": 2, "Mins": 566, "Goals": 3, "xG": 1.13, "xG Per Avg Match": 0.19, "Shots": 9, "OnTarget": 5, "Shots Per Avg Match": 1.51, "On Target Per Avg Match": 0.84, "Year": 2020, "value": 54000000}, {"Country": "Spain", "League": "La Liga", "Club": "(BAR)", "Player Names": "antoine griezmann", "Matches_Played": 8, "Substitution": 1, "Mins": 634, "Goals": 3, "xG": 3.67, "xG Per Avg Match": 0.55, "Shots": 18, "OnTarget": 8, "Shots Per Avg Match": 2.7, "On Target Per Avg Match": 1.2, "Year": 2020, "value": 96000000}, {"Country": "Spain", "League": "La Liga", "Club": "(CEL)", "Player Names": "iago aspas", "Matches_Played": 11, "Substitution": 0, "Mins": 1056, "Goals": 5, "xG": 4.89, "xG Per Avg Match": 0.44, "Shots": 21, "OnTarget": 12, "Shots Per Avg Match": 1.89, "On Target Per Avg Match": 1.08, "Year": 2020, "value": 16000000}, {"Country": "Spain", "League": "La Liga", "Club": "(BAR)", "Player Names": "ansu fati", "Matches_Played": 6, "Substitution": 1, "Mins": 451, "Goals": 4, "xG": 1.8, "xG Per Avg Match": 0.38, "Shots": 14, "OnTarget": 7, "Shots Per Avg Match": 2.95, "On Target Per Avg Match": 1.47, "Year": 2020, "value": 80000000}, {"Country": "Spain", "League": "La Liga", "Club": "(VIL)", "Player Names": "gerard moreno", "Matches_Played": 9, "Substitution": 0, "Mins": 822, "Goals": 6, "xG": 6.4, "xG Per Avg Match": 0.74, "Shots": 29, "OnTarget": 11, "Shots Per Avg Match": 3.35, "On Target Per Avg Match": 1.27, "Year": 2020, "value": 16000000}, {"Country": "Italy", "League": "Serie A", "Club": "(BOL)", "Player Names": "roberto soriano", "Matches_Played": 9, "Substitution": 0, "Mins": 849, "Goals": 5, "xG": 2.41, "xG Per Avg Match": 0.27, "Shots": 18, "OnTarget": 7, "Shots Per Avg Match": 2.01, "On Target Per Avg Match": 0.78, "Year": 2020, "value": 6000000}, {"Country": "Italy", "League": "Serie A", "Club": "(SAS)", "Player Names": "francesco caputo", "Matches_Played": 6, "Substitution": 0, "Mins": 567, "Goals": 5, "xG": 3.52, "xG Per Avg Match": 0.59, "Shots": 18, "OnTarget": 9, "Shots Per Avg Match": 3.02, "On Target Per Avg Match": 1.51, "Year": 2020, "value": 5000000}, {"Country": "Italy", "League": "Serie A", "Club": "(CAG)", "Player Names": "joao pedro", "Matches_Played": 9, "Substitution": 0, "Mins": 831, "Goals": 6, "xG": 3.41, "xG Per Avg Match": 0.39, "Shots": 21, "OnTarget": 10, "Shots Per Avg Match": 2.4, "On Target Per Avg Match": 1.14, "Year": 2020, "value": 14000000}, {"Country": "Italy", "League": "Serie A", "Club": "(CAG)", "Player Names": "joao pedro", "Matches_Played": 9, "Substitution": 0, "Mins": 831, "Goals": 6, "xG": 3.41, "xG Per Avg Match": 0.39, "Shots": 21, "OnTarget": 10, "Shots Per Avg Match": 2.4, "On Target Per Avg Match": 1.14, "Year": 2020, "value": 12000000}, {"Country": "Italy", "League": "Serie A", "Club": "(TOR)", "Player Names": "andrea belotti", "Matches_Played": 8, "Substitution": 0, "Mins": 754, "Goals": 7, "xG": 3.49, "xG Per Avg Match": 0.44, "Shots": 24, "OnTarget": 11, "Shots Per Avg Match": 3.02, "On Target Per Avg Match": 1.39, "Year": 2020, "value": 32000000}, {"Country": "Italy", "League": "Serie A", "Club": "(FIO)", "Player Names": "gaetano castrovilli", "Matches_Played": 9, "Substitution": 0, "Mins": 755, "Goals": 4, "xG": 1.43, "xG Per Avg Match": 0.18, "Shots": 11, "OnTarget": 7, "Shots Per Avg Match": 1.38, "On Target Per Avg Match": 0.88, "Year": 2020, "value": 20000000}, {"Country": "Italy", "League": "Serie A", "Club": "(CAG)", "Player Names": "giovanni simeone", "Matches_Played": 8, "Substitution": 0, "Mins": 664, "Goals": 5, "xG": 3.29, "xG Per Avg Match": 0.47, "Shots": 15, "OnTarget": 5, "Shots Per Avg Match": 2.15, "On Target Per Avg Match": 0.72, "Year": 2020, "value": 13000000}, {"Country": "Italy", "League": "Serie A", "Club": "(SAS)", "Player Names": "domenico berardi", "Matches_Played": 8, "Substitution": 0, "Mins": 766, "Goals": 4, "xG": 2.02, "xG Per Avg Match": 0.25, "Shots": 21, "OnTarget": 11, "Shots Per Avg Match": 2.6, "On Target Per Avg Match": 1.36, "Year": 2020, "value": 19000000}, {"Country": "Italy", "League": "Serie A", "Club": "(ROM)", "Player Names": "henrikh mkhitaryan", "Matches_Played": 9, "Substitution": 0, "Mins": 825, "Goals": 5, "xG": 5.82, "xG Per Avg Match": 0.67, "Shots": 30, "OnTarget": 14, "Shots Per Avg Match": 3.45, "On Target Per Avg Match": 1.61, "Year": 2020, "value": 20000000}, {"Country": "Italy", "League": "Serie A", "Club": "(ROM)", "Player Names": "henrikh mkhitaryan", "Matches_Played": 9, "Substitution": 0, "Mins": 825, "Goals": 5, "xG": 5.82, "xG Per Avg Match": 0.67, "Shots": 30, "OnTarget": 14, "Shots Per Avg Match": 3.45, "On Target Per Avg Match": 1.61, "Year": 2020, "value": 20000000}, {"Country": "Italy", "League": "Serie A", "Club": "(ROM)", "Player Names": "jordan veretout", "Matches_Played": 9, "Substitution": 0, "Mins": 769, "Goals": 4, "xG": 3.48, "xG Per Avg Match": 0.43, "Shots": 18, "OnTarget": 7, "Shots Per Avg Match": 2.22, "On Target Per Avg Match": 0.86, "Year": 2020, "value": 20000000}, {"Country": "Italy", "League": "Serie A", "Club": "(PAR)", "Player Names": "gervinho", "Matches_Played": 8, "Substitution": 0, "Mins": 669, "Goals": 4, "xG": 1.97, "xG Per Avg Match": 0.28, "Shots": 13, "OnTarget": 5, "Shots Per Avg Match": 1.85, "On Target Per Avg Match": 0.71, "Year": 2020, "value": 5000000}, {"Country": "Italy", "League": "Serie A", "Club": "(ATA)", "Player Names": "luis muriel", "Matches_Played": 3, "Substitution": 4, "Mins": 264, "Goals": 4, "xG": 2.78, "xG Per Avg Match": 1.0, "Shots": 20, "OnTarget": 7, "Shots Per Avg Match": 7.2, "On Target Per Avg Match": 2.52, "Year": 2020, "value": 15000000}, {"Country": "Italy", "League": "Serie A", "Club": "(JUV)", "Player Names": "cristiano ronaldo", "Matches_Played": 5, "Substitution": 1, "Mins": 397, "Goals": 8, "xG": 5.31, "xG Per Avg Match": 1.27, "Shots": 26, "OnTarget": 13, "Shots Per Avg Match": 6.22, "On Target Per Avg Match": 3.11, "Year": 2020, "value": 60000000}, {"Country": "Italy", "League": "Serie A", "Club": "(INT)", "Player Names": "romelu lukaku", "Matches_Played": 6, "Substitution": 2, "Mins": 580, "Goals": 7, "xG": 7.27, "xG Per Avg Match": 1.19, "Shots": 22, "OnTarget": 10, "Shots Per Avg Match": 3.6, "On Target Per Avg Match": 1.64, "Year": 2020, "value": 68000000}, {"Country": "Italy", "League": "Serie A", "Club": "(NAP)", "Player Names": "dries mertens", "Matches_Played": 9, "Substitution": 0, "Mins": 616, "Goals": 4, "xG": 2.46, "xG Per Avg Match": 0.38, "Shots": 24, "OnTarget": 11, "Shots Per Avg Match": 3.7, "On Target Per Avg Match": 1.7, "Year": 2020, "value": 20000000}, {"Country": "Italy", "League": "Serie A", "Club": "(LAZ)", "Player Names": "ciro immobile", "Matches_Played": 6, "Substitution": 1, "Mins": 571, "Goals": 5, "xG": 3.73, "xG Per Avg Match": 0.62, "Shots": 22, "OnTarget": 8, "Shots Per Avg Match": 3.66, "On Target Per Avg Match": 1.33, "Year": 2020, "value": 40000000}, {"Country": "Italy", "League": "Serie A", "Club": "(SAM)", "Player Names": "fabio quagliarella", "Matches_Played": 8, "Substitution": 1, "Mins": 694, "Goals": 5, "xG": 4.46, "xG Per Avg Match": 0.61, "Shots": 23, "OnTarget": 9, "Shots Per Avg Match": 3.15, "On Target Per Avg Match": 1.23, "Year": 2020, "value": 1000000}, {"Country": "Italy", "League": "Serie A", "Club": "(ACM)", "Player Names": "zlatan ibrahimovic", "Matches_Played": 6, "Substitution": 0, "Mins": 557, "Goals": 10, "xG": 7.92, "xG Per Avg Match": 1.35, "Shots": 35, "OnTarget": 16, "Shots Per Avg Match": 5.97, "On Target Per Avg Match": 2.73, "Year": 2020, "value": 3500000}, {"Country": "Italy", "League": "Serie A", "Club": "(NAP)", "Player Names": "hirving lozano", "Matches_Played": 9, "Substitution": 0, "Mins": 568, "Goals": 4, "xG": 2.93, "xG Per Avg Match": 0.49, "Shots": 18, "OnTarget": 11, "Shots Per Avg Match": 3.01, "On Target Per Avg Match": 1.84, "Year": 2020, "value": 28000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(LEV)", "Player Names": "lucas alario", "Matches_Played": 6, "Substitution": 1, "Mins": 561, "Goals": 7, "xG": 3.07, "xG Per Avg Match": 0.52, "Shots": 20, "OnTarget": 11, "Shots Per Avg Match": 3.39, "On Target Per Avg Match": 1.86, "Year": 2020, "value": 13000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(FRA)", "Player Names": "bas dost", "Matches_Played": 8, "Substitution": 1, "Mins": 732, "Goals": 3, "xG": 3.24, "xG Per Avg Match": 0.42, "Shots": 14, "OnTarget": 8, "Shots Per Avg Match": 1.82, "On Target Per Avg Match": 1.04, "Year": 2020, "value": 5500000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BAY)", "Player Names": "serge gnabry", "Matches_Played": 7, "Substitution": 1, "Mins": 626, "Goals": 4, "xG": 1.58, "xG Per Avg Match": 0.24, "Shots": 18, "OnTarget": 9, "Shots Per Avg Match": 2.73, "On Target Per Avg Match": 1.37, "Year": 2020, "value": 72000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(WOB)", "Player Names": "wout weghorst", "Matches_Played": 8, "Substitution": 1, "Mins": 778, "Goals": 6, "xG": 5.57, "xG Per Avg Match": 0.68, "Shots": 25, "OnTarget": 14, "Shots Per Avg Match": 3.05, "On Target Per Avg Match": 1.71, "Year": 2020, "value": 21000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(RBL)", "Player Names": "dani olmo", "Matches_Played": 9, "Substitution": 0, "Mins": 834, "Goals": 4, "xG": 2.28, "xG Per Avg Match": 0.26, "Shots": 19, "OnTarget": 8, "Shots Per Avg Match": 2.16, "On Target Per Avg Match": 0.91, "Year": 2020, "value": 33000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(KOL)", "Player Names": "ellyes skhiri", "Matches_Played": 8, "Substitution": 0, "Mins": 709, "Goals": 3, "xG": 1.87, "xG Per Avg Match": 0.25, "Shots": 6, "OnTarget": 3, "Shots Per Avg Match": 0.8, "On Target Per Avg Match": 0.4, "Year": 2020, "value": 6000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BMG)", "Player Names": "lars stindl", "Matches_Played": 7, "Substitution": 2, "Mins": 567, "Goals": 4, "xG": 3.52, "xG Per Avg Match": 0.59, "Shots": 19, "OnTarget": 9, "Shots Per Avg Match": 3.18, "On Target Per Avg Match": 1.51, "Year": 2020, "value": 6000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(FCA)", "Player Names": "daniel caligiuri", "Matches_Played": 9, "Substitution": 0, "Mins": 841, "Goals": 3, "xG": 0.8, "xG Per Avg Match": 0.09, "Shots": 11, "OnTarget": 5, "Shots Per Avg Match": 1.24, "On Target Per Avg Match": 0.56, "Year": 2020, "value": 4000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(DOR)", "Player Names": "erling haaland", "Matches_Played": 7, "Substitution": 1, "Mins": 683, "Goals": 10, "xG": 6.76, "xG Per Avg Match": 0.94, "Shots": 30, "OnTarget": 14, "Shots Per Avg Match": 4.17, "On Target Per Avg Match": 1.95, "Year": 2020, "value": 72000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(SCF)", "Player Names": "nils petersen", "Matches_Played": 6, "Substitution": 3, "Mins": 608, "Goals": 4, "xG": 2.11, "xG Per Avg Match": 0.33, "Shots": 15, "OnTarget": 7, "Shots Per Avg Match": 2.34, "On Target Per Avg Match": 1.09, "Year": 2020, "value": 6000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BSC)", "Player Names": "matheus cunha", "Matches_Played": 9, "Substitution": 0, "Mins": 857, "Goals": 6, "xG": 3.43, "xG Per Avg Match": 0.38, "Shots": 26, "OnTarget": 15, "Shots Per Avg Match": 2.88, "On Target Per Avg Match": 1.66, "Year": 2020, "value": 13000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BSC)", "Player Names": "matheus cunha", "Matches_Played": 9, "Substitution": 0, "Mins": 857, "Goals": 6, "xG": 3.43, "xG Per Avg Match": 0.38, "Shots": 26, "OnTarget": 15, "Shots Per Avg Match": 2.88, "On Target Per Avg Match": 1.66, "Year": 2020, "value": 13000000}, {"Country": "Germany", "League": "Bundesliga", "Club": "(BAY)", "Player Names": "robert lewandowski", "Matches_Played": 7, "Substitution": 1, "Mins": 672, "Goals": 12, "xG": 7.78, "xG Per Avg Match": 1.1, "Shots": 35, "OnTarget": 17, "Shots Per Avg Match": 4.95, "On Target Per Avg Match": 2.4, "Year": 2020, "value": 56000000}, {"Country": "France", "League": "France Ligue 18", "Club": "(NAN)", "Player Names": "ludovic blas", "Matches_Played": 11, "Substitution": 1, "Mins": 990, "Goals": 4, "xG": 1.88, "xG Per Avg Match": 0.18, "Shots": 19, "OnTarget": 7, "Shots Per Avg Match": 1.82, "On Target Per Avg Match": 0.67, "Year": 2020, "value": 8000000}, {"Country": "France", "League": "France Ligue 10", "Club": "(MON)", "Player Names": "kevin volland", "Matches_Played": 9, "Substitution": 1, "Mins": 709, "Goals": 5, "xG": 3.43, "xG Per Avg Match": 0.46, "Shots": 12, "OnTarget": 11, "Shots Per Avg Match": 1.61, "On Target Per Avg Match": 1.47, "Year": 2020, "value": 28000000}, {"Country": "France", "League": "France Ligue 3", "Club": "(MPE)", "Player Names": "andy delort", "Matches_Played": 11, "Substitution": 0, "Mins": 902, "Goals": 6, "xG": 4.18, "xG Per Avg Match": 0.44, "Shots": 31, "OnTarget": 14, "Shots Per Avg Match": 3.26, "On Target Per Avg Match": 1.47, "Year": 2020, "value": 10000000}, {"Country": "France", "League": "France Ligue 5", "Club": "(MET)", "Player Names": "ibrahima niane", "Matches_Played": 6, "Substitution": 0, "Mins": 482, "Goals": 6, "xG": 3.45, "xG Per Avg Match": 0.68, "Shots": 21, "OnTarget": 9, "Shots Per Avg Match": 4.14, "On Target Per Avg Match": 1.77, "Year": 2020, "value": 3000000}, {"Country": "France", "League": "France Ligue 2", "Club": "(REI)", "Player Names": "boulaye dia", "Matches_Played": 9, "Substitution": 1, "Mins": 772, "Goals": 8, "xG": 5.28, "xG Per Avg Match": 0.65, "Shots": 25, "OnTarget": 12, "Shots Per Avg Match": 3.08, "On Target Per Avg Match": 1.48, "Year": 2020, "value": 4000000}, {"Country": "France", "League": "France Ligue 20", "Club": "(PSG)", "Player Names": "moise kean", "Matches_Played": 6, "Substitution": 0, "Mins": 454, "Goals": 4, "xG": 3.2, "xG Per Avg Match": 0.67, "Shots": 14, "OnTarget": 5, "Shots Per Avg Match": 2.93, "On Target Per Avg Match": 1.05, "Year": 2020, "value": 25000000}, {"Country": "France", "League": "France Ligue 15", "Club": "(LEN)", "Player Names": "ignatius ganago", "Matches_Played": 6, "Substitution": 3, "Mins": 452, "Goals": 4, "xG": 3.33, "xG Per Avg Match": 0.7, "Shots": 14, "OnTarget": 7, "Shots Per Avg Match": 2.94, "On Target Per Avg Match": 1.47, "Year": 2020, "value": 3000000}, {"Country": "France", "League": "France Ligue 8", "Club": "(BRE)", "Player Names": "irvin cardona", "Matches_Played": 6, "Substitution": 5, "Mins": 627, "Goals": 5, "xG": 2.71, "xG Per Avg Match": 0.41, "Shots": 21, "OnTarget": 8, "Shots Per Avg Match": 3.18, "On Target Per Avg Match": 1.21, "Year": 2020, "value": 4000000}, {"Country": "France", "League": "France Ligue 14", "Club": "(MAR)", "Player Names": "florian thauvin", "Matches_Played": 10, "Substitution": 0, "Mins": 835, "Goals": 4, "xG": 2.99, "xG Per Avg Match": 0.34, "Shots": 21, "OnTarget": 8, "Shots Per Avg Match": 2.39, "On Target Per Avg Match": 0.91, "Year": 2020, "value": 32000000}, {"Country": "France", "League": "France Ligue 13", "Club": "(NIC)", "Player Names": "amine gouiri", "Matches_Played": 9, "Substitution": 2, "Mins": 903, "Goals": 4, "xG": 3.33, "xG Per Avg Match": 0.35, "Shots": 26, "OnTarget": 10, "Shots Per Avg Match": 2.74, "On Target Per Avg Match": 1.05, "Year": 2020, "value": 4000000}, {"Country": "France", "League": "France Ligue 16", "Club": "(LIL)", "Player Names": "jonathan bamba", "Matches_Played": 11, "Substitution": 1, "Mins": 1061, "Goals": 4, "xG": 1.68, "xG Per Avg Match": 0.15, "Shots": 25, "OnTarget": 9, "Shots Per Avg Match": 2.24, "On Target Per Avg Match": 0.81, "Year": 2020, "value": 16000000}, {"Country": "France", "League": "France Ligue 17", "Club": "(STR)", "Player Names": "ludovic ajorque", "Matches_Played": 11, "Substitution": 0, "Mins": 1008, "Goals": 4, "xG": 3.61, "xG Per Avg Match": 0.34, "Shots": 17, "OnTarget": 8, "Shots Per Avg Match": 1.6, "On Target Per Avg Match": 0.75, "Year": 2020, "value": 6000000}, {"Country": "France", "League": "France Ligue 11", "Club": "(LYO)", "Player Names": "memphis depay", "Matches_Played": 9, "Substitution": 3, "Mins": 903, "Goals": 5, "xG": 4.75, "xG Per Avg Match": 0.5, "Shots": 30, "OnTarget": 10, "Shots Per Avg Match": 3.16, "On Target Per Avg Match": 1.05, "Year": 2020, "value": 44000000}, {"Country": "England", "League": "Premier League", "Club": "(MNU)", "Player Names": "bruno fernandes", "Matches_Played": 9, "Substitution": 0, "Mins": 809, "Goals": 7, "xG": 5.45, "xG Per Avg Match": 0.64, "Shots": 30, "OnTarget": 14, "Shots Per Avg Match": 3.52, "On Target Per Avg Match": 1.64, "Year": 2020, "value": 48000000}, {"Country": "England", "League": "Premier League", "Club": "(CHE)", "Player Names": "timo werner", "Matches_Played": 10, "Substitution": 0, "Mins": 876, "Goals": 4, "xG": 3.69, "xG Per Avg Match": 0.4, "Shots": 23, "OnTarget": 10, "Shots Per Avg Match": 2.49, "On Target Per Avg Match": 1.08, "Year": 2020, "value": 64000000}, {"Country": "England", "League": "Premier League", "Club": "(NEW)", "Player Names": "callum wilson", "Matches_Played": 9, "Substitution": 0, "Mins": 835, "Goals": 7, "xG": 6.5, "xG Per Avg Match": 0.74, "Shots": 18, "OnTarget": 8, "Shots Per Avg Match": 2.05, "On Target Per Avg Match": 0.91, "Year": 2020, "value": 24000000}, {"Country": "England", "League": "Premier League", "Club": "(LIV)", "Player Names": "diogo jota", "Matches_Played": 5, "Substitution": 3, "Mins": 530, "Goals": 5, "xG": 2.51, "xG Per Avg Match": 0.45, "Shots": 20, "OnTarget": 11, "Shots Per Avg Match": 3.58, "On Target Per Avg Match": 1.97, "Year": 2020, "value": 40000000}, {"Country": "England", "League": "Premier League", "Club": "(CRY)", "Player Names": "wilfried zaha", "Matches_Played": 8, "Substitution": 0, "Mins": 779, "Goals": 5, "xG": 4.35, "xG Per Avg Match": 0.53, "Shots": 18, "OnTarget": 7, "Shots Per Avg Match": 2.2, "On Target Per Avg Match": 0.85, "Year": 2020, "value": 44000000}, {"Country": "England", "League": "Premier League", "Club": "(AVL)", "Player Names": "jack grealish", "Matches_Played": 9, "Substitution": 0, "Mins": 872, "Goals": 5, "xG": 2.85, "xG Per Avg Match": 0.31, "Shots": 26, "OnTarget": 9, "Shots Per Avg Match": 2.83, "On Target Per Avg Match": 0.98, "Year": 2020, "value": 30000000}, {"Country": "England", "League": "Premier League", "Club": "(WHU)", "Player Names": "jarrod bowen", "Matches_Played": 10, "Substitution": 0, "Mins": 845, "Goals": 4, "xG": 2.94, "xG Per Avg Match": 0.33, "Shots": 22, "OnTarget": 5, "Shots Per Avg Match": 2.47, "On Target Per Avg Match": 0.56, "Year": 2020, "value": 16000000}, {"Country": "England", "League": "Premier League", "Club": "(LIV)", "Player Names": "mohamed salah", "Matches_Played": 9, "Substitution": 0, "Mins": 831, "Goals": 8, "xG": 6.12, "xG Per Avg Match": 0.7, "Shots": 35, "OnTarget": 15, "Shots Per Avg Match": 4.0, "On Target Per Avg Match": 1.71, "Year": 2020, "value": 120000000}, {"Country": "England", "League": "Premier League", "Club": "(LEI)", "Player Names": "jamie vardy", "Matches_Played": 8, "Substitution": 1, "Mins": 780, "Goals": 8, "xG": 8.7, "xG Per Avg Match": 1.06, "Shots": 21, "OnTarget": 15, "Shots Per Avg Match": 2.56, "On Target Per Avg Match": 1.83, "Year": 2020, "value": 16000000}, {"Country": "England", "League": "Premier League", "Club": "(TOT)", "Player Names": "harry kane", "Matches_Played": 10, "Substitution": 0, "Mins": 956, "Goals": 7, "xG": 6.64, "xG Per Avg Match": 0.66, "Shots": 39, "OnTarget": 15, "Shots Per Avg Match": 3.88, "On Target Per Avg Match": 1.49, "Year": 2020, "value": 120000000}, {"Country": "England", "League": "Premier League", "Club": null, "Player Names": "danny ings", "Matches_Played": 7, "Substitution": 0, "Mins": 662, "Goals": 5, "xG": 2.58, "xG Per Avg Match": 0.37, "Shots": 15, "OnTarget": 9, "Shots Per Avg Match": 2.15, "On Target Per Avg Match": 1.29, "Year": 2020, "value": 17000000}, {"Country": "England", "League": "Premier League", "Club": "(BHA)", "Player Names": "neal maupay", "Matches_Played": 9, "Substitution": 0, "Mins": 786, "Goals": 4, "xG": 6.54, "xG Per Avg Match": 0.79, "Shots": 25, "OnTarget": 11, "Shots Per Avg Match": 3.02, "On Target Per Avg Match": 1.33, "Year": 2020, "value": 17000000}, {"Country": "England", "League": "Premier League", "Club": "(MNC)", "Player Names": "riyad mahrez", "Matches_Played": 7, "Substitution": 0, "Mins": 612, "Goals": 4, "xG": 1.93, "xG Per Avg Match": 0.3, "Shots": 21, "OnTarget": 10, "Shots Per Avg Match": 3.26, "On Target Per Avg Match": 1.55, "Year": 2020, "value": 48000000}, {"Country": "Brazil", "League": "Campeonato Brasileiro S√É¬©rie A", "Club": "(FLA)", "Player Names": "pedro", "Matches_Played": 12, "Substitution": 6, "Mins": 1207, "Goals": 10, "xG": 10.42, "xG Per Avg Match": 0.82, "Shots": 46, "OnTarget": 25, "Shots Per Avg Match": 3.62, "On Target Per Avg Match": 1.97, "Year": 2020, "value": 7500000}, {"Country": "Brazil", "League": "Campeonato Brasileiro S√É¬©rie A", "Club": "(FLA)", "Player Names": "pedro", "Matches_Played": 12, "Substitution": 6, "Mins": 1207, "Goals": 10, "xG": 10.42, "xG Per Avg Match": 0.82, "Shots": 46, "OnTarget": 25, "Shots Per Avg Match": 3.62, "On Target Per Avg Match": 1.97, "Year": 2020, "value": 12000000}];
const ALL_COLS = ["Country", "League", "Club", "Player Names", "Matches_Played", "Substitution", "Mins", "Goals", "xG", "xG Per Avg Match", "Shots", "OnTarget", "Shots Per Avg Match", "On Target Per Avg Match", "Year", "value"];
const NUMERIC_COLS = ["Matches_Played", "Substitution", "Mins", "Goals", "xG", "xG Per Avg Match", "Shots", "OnTarget", "Shots Per Avg Match", "On Target Per Avg Match", "Year", "value"];
const LEAGUES = ["Bundesliga", "Campeonato Brasileiro S√É¬©rie A", "Eredivisie", "France Ligue 10", "France Ligue 11", "France Ligue 12", "France Ligue 13", "France Ligue 14", "France Ligue 15", "France Ligue 16", "France Ligue 17", "France Ligue 18", "France Ligue 19", "France Ligue 2", "France Ligue 20", "France Ligue 3", "France Ligue 4", "France Ligue 5", "France Ligue 6", "France Ligue 7", "France Ligue 8", "France Ligue 9", "La Liga", "MLS", "Premier League", "Primeira Liga", "Serie A"];
const COL_PLAYER = "Player Names";
const COL_MARKET = "value";
const COL_GOALS = "Goals";
const COL_SHOTS = "Shots";
const COL_LEAGUE = "League";

function safeNum(v){ const n=Number(v); return (v===null||v===undefined||v==="")?null:(isNaN(n)?null:n); }
function pearson(xs, ys){
  if(!xs||!ys||xs.length!==ys.length||xs.length<2) return null;
  const n=xs.length; const mx=xs.reduce((a,b)=>a+b,0)/n; const my=ys.reduce((a,b)=>a+b,0)/n;
  let num=0,sx=0,sy=0;
  for(let i=0;i<n;i++){ num+=(xs[i]-mx)*(ys[i]-my); sx+=(xs[i]-mx)**2; sy+=(ys[i]-my)**2; }
  const den=Math.sqrt(sx*sy); if(den===0) return 0; return num/den;
}

const leagueSel = document.getElementById('leagueSelect');
const xSel = document.getElementById('xSelect');
const ySel = document.getElementById('ySelect');
const applyBtn = document.getElementById('applyBtn');
const resetBtn = document.getElementById('resetBtn');
const sameVarDisclaimer = document.getElementById('sameVarDisclaimer');

function populateControls(){
  leagueSel.innerHTML = "<option>Semua Liga</option>";
  LEAGUES.forEach(l => { const o=document.createElement('option'); o.value=o.text=l; leagueSel.appendChild(o); });
  xSel.innerHTML = ""; ySel.innerHTML = "";
  ALL_COLS.forEach(c => { const ox=document.createElement('option'); ox.value=ox.text=c; xSel.appendChild(ox); const oy=document.createElement('option'); oy.value=oy.text=c; ySel.appendChild(oy); });
  if(ALL_COLS.includes(COL_MARKET)) xSel.value = COL_MARKET;
  if(ALL_COLS.includes(COL_GOALS)) ySel.value = COL_GOALS;
}
populateControls();

function getFiltered(){
  const league = leagueSel.value;
  if(league && league!=='Semua Liga' && COL_LEAGUE !== null) return DATA.filter(r=>r[COL_LEAGUE]===league);
  return [...DATA];
}

function renderExec(filtered){
  const el = document.getElementById('execText');
  const totalAll = DATA.length;
  const leagueText = leagueSel.value==='Semua Liga' ? 'seluruh liga' : leagueSel.value;
  el.innerHTML = `Dashboard ini menampilkan eksplorasi data terhadap <b>${totalAll}</b> pemain sepak bola profesional. Saat ini menampilkan <b>${filtered.length}</b> pemain dari <b>${leagueText}</b>.<br><br>
Analisis memungkinkan pengguna melihat keterkaitan antara atribut performa (mis. goals, shots, age) dengan market value. Visualisasi: scatter plot, bar chart (top 10), box plot, heatmap (korelasi), dan pie chart (distribusi liga). Gunakan filter dan pilih variabel X & Y untuk menyesuaikan analisis.`;
}

function renderKPI(filtered){
  const area = document.getElementById('kpiArea');
  let avgMarket='N/A', avgGoals='N/A', avgShots='N/A';
  if(COL_MARKET!==null){
    const arr = filtered.map(r=>safeNum(r[COL_MARKET])).filter(v=>v!==null);
    if(arr.length) avgMarket = Math.round((arr.reduce((a,b)=>a+b,0)/arr.length)*100)/100;
  }
  if(COL_GOALS!==null){
    const arr = filtered.map(r=>safeNum(r[COL_GOALS])).filter(v=>v!==null);
    if(arr.length) avgGoals = (arr.reduce((a,b)=>a+b,0)/arr.length).toFixed(2);
  }
  if(COL_SHOTS!==null){
    const arr = filtered.map(r=>safeNum(r[COL_SHOTS])).filter(v=>v!==null);
    if(arr.length) avgShots = (arr.reduce((a,b)=>a+b,0)/arr.length).toFixed(2);
  }
  area.innerHTML = `<table class="kpi-table">
    <tr><th>Indikator</th><th>Nilai</th></tr>
    <tr><td>Rata-rata Market Value (‚Ç¨)</td><td>${avgMarket}</td></tr>
    <tr><td>Rata-rata Goals</td><td>${avgGoals}</td></tr>
    <tr><td>Rata-rata Shots</td><td>${avgShots}</td></tr>
    <tr><td>Total Pemain</td><td>${filtered.length}</td></tr>
  </table>`;
}

function renderPie(filtered){
  const counts = {};
  filtered.forEach(r=>{ const k = COL_LEAGUE ? (r[COL_LEAGUE]||"Unknown") : "Unknown"; counts[k]=(counts[k]||0)+1; });
  const labels = Object.keys(counts); const values = labels.map(l=>counts[l]);
  Plotly.newPlot('pie', [{labels:labels, values:values, type:'pie', textinfo:'label+percent'}], {height:480, title:'Distribusi Pemain per Liga'}, {responsive:true});
  document.getElementById('pieInterp').innerText = `Grafik pie ini memperlihatkan bahwa distribusi pemain antar liga ${labels.length? 'memiliki proporsi: '+labels.map((l,i)=> l+' ('+values[i]+')').join(', '):'tidak tersedia'}. Jika satu liga mendominasi, dataset lebih fokus pada liga tersebut; sebaran seimbang menandakan data lebih representatif antar liga.`;
}

function renderBar(filtered){
  const area = document.getElementById('bar');
  if(COL_MARKET===null || COL_PLAYER===null){ area.innerHTML = "<div style='padding:12px;color:#b00;'>Kolom nama pemain atau market value tidak ditemukan.</div>"; document.getElementById('barInterp').innerText=''; return; }
  const map = {};
  filtered.forEach(r=>{ const name = r[COL_PLAYER]||"Unknown"; const val = safeNum(r[COL_MARKET]); if(val!==null){ if(!map[name]||val>map[name]) map[name]=val;} });
  const items = Object.keys(map).map(k=>({name:k,val:map[k]})).sort((a,b)=>b.val-a.val).slice(0,10);
  if(items.length===0){ area.innerHTML = "<div style='padding:12px;color:#b00;'>Tidak ada data market value untuk Top 10.</div>"; document.getElementById('barInterp').innerText=''; return; }
  const trace = { x: items.map(i=>i.name).reverse(), y: items.map(i=>i.val).reverse(), type:'bar', text: items.map(i=>(i.val/1e6).toFixed(1)+'M'), textposition:'outside', marker:{color: items.map((_,i)=>['#2b8cbe','#66c2a5','#fc8d62','#8da0cb','#e78ac3'][i%5])} };
  Plotly.newPlot('bar', [trace], {height:480, title:'Top 10 Pemain Berdasarkan Market Value'}, {responsive:true});
  document.getElementById('barInterp').innerText = `Grafik batang ini memperlihatkan bahwa pemain dengan market value tertinggi cenderung terfokus pada beberapa nama; perbandingan ini membantu mengidentifikasi gap nilai antar pemain bintang dan pemain lainnya.`;
}

function renderScatter(filtered){
  const x = xSel.value, y = ySel.value; const interp = document.getElementById('scatterInterp');
  if(x===y){ sameVarDisclaimer.style.display='block'; sameVarDisclaimer.innerText = `Jika kamu memilih variabel yang sama (misalnya: ${x}), scatter plot akan menjadi garis lurus karena kedua sumbu identik.`; }
  else { sameVarDisclaimer.style.display='none'; }
  if(!(NUMERIC_COLS.includes(x) && NUMERIC_COLS.includes(y))){ document.getElementById('scatter').innerHTML = "<div style='padding:12px;color:#b00;'>Scatter plot hanya dapat dibuat jika kedua variabel numerik.</div>"; interp.innerText=""; return; }
  const groups = {}; filtered.forEach(r=>{ const lg = COL_LEAGUE? (r[COL_LEAGUE]||"Unknown") : "Unknown"; const xv=safeNum(r[x]); const yv=safeNum(r[y]); if(xv!==null&&yv!==null){ if(!groups[lg]) groups[lg]=[]; groups[lg].push({x:xv,y:yv,text:r[COL_PLAYER]||""}); } });
  const traces=[]; Object.entries(groups).forEach(([lg,pts],idx)=>{ traces.push({ x: pts.map(p=>p.x), y: pts.map(p=>p.y), mode:'markers', type:'scatter', name: lg, text: pts.map(p=>p.text), marker:{size:8} }); });
  Plotly.newPlot('scatter', traces, {height:480, title:`Hubungan antara ${x} dan ${y}`, xaxis:{title:x}, yaxis:{title:y}}, {responsive:true});
  const xs=[], ys=[]; filtered.forEach(r=>{ const xv=safeNum(r[x]); const yv=safeNum(r[y]); if(xv!==null&&yv!==null){ xs.push(xv); ys.push(yv);} });
  if(xs.length>1){ const c = pearson(xs, ys); interp.innerText = `Nilai korelasi Pearson antara ${x} dan ${y} adalah ${c.toFixed(2)}.`; }
  else { interp.innerText = "Tidak cukup data numerik untuk menghitung korelasi."; }
  // paragraph interpretation (dynamic)
  let para = `Grafik scatter ini memperlihatkan bahwa hubungan antara ${x} dan ${y} `;
  if(xs.length>1){
    const c = pearson(xs, ys);
    if(Math.abs(c) >= 0.7) para += `termasuk kuat (korelasi Pearson ${c.toFixed(2)}). Secara umum, pola titik menunjukkan hubungan yang konsisten antara kedua variabel.`;
    else if(Math.abs(c) >= 0.3) para += `termasuk sedang (korelasi Pearson ${c.toFixed(2)}). Ada kecenderungan pola yang dapat dijelaskan tetapi juga variasi.`;
    else para += `termasuk lemah atau tidak signifikan (korelasi Pearson ${c.toFixed(2)}); titik-titik lebih tersebar, menandakan sedikit hubungan linier antara keduanya.`;
  } else {
    para += "tidak cukup data untuk analisis detail.";
  }
  interp.innerText += "\n\n" + para;
}

function renderBox(filtered){
  const y = ySel.value; const area = document.getElementById('box'); const interp = document.getElementById('boxInterp');
  if(!NUMERIC_COLS.includes(y)){ area.innerHTML = "<div style='padding:12px;color:#b00;'>Boxplot hanya dapat dibuat untuk variabel numerik (Y).</div>"; interp.innerText=""; return; }
  const arr = filtered.map(r=>safeNum(r[y])).filter(v=>v!==null);
  if(arr.length===0){ area.innerHTML = "<div style='padding:12px;color:#b00;'>Tidak ada data numerik untuk boxplot.</div>"; interp.innerText=""; return; }
  Plotly.newPlot('box', [{y:arr,type:'box',boxpoints:'outliers',marker:{color:'#8a2be2'}}], {height:480, title:`Distribusi ${y}`}, {responsive:true});
  const q1 = quantile(arr,0.25), q3 = quantile(arr,0.75), med = quantile(arr,0.5);
  interp.innerText = `Grafik boxplot ini memperlihatkan bahwa distribusi ${y} memiliki median ${med.toFixed(2)}, rentang interkuartil (Q1‚ÄìQ3) dari ${q1.toFixed(2)} sampai ${q3.toFixed(2)}. Titik di luar rentang menandakan outlier yang mungkin merupakan kasus ekstrem atau data yang perlu ditinjau.`;
}

function renderHeat(filtered){
  if(NUMERIC_COLS.length===0){ document.getElementById('heat').innerHTML="<div style='padding:12px;color:#b00;'>Tidak ada kolom numerik untuk heatmap.</div>"; document.getElementById('heatInterp').innerText=""; return; }
  const cols = NUMERIC_COLS.slice(); const n = cols.length; const z = Array.from({length:n}, ()=>Array(n).fill(0));
  for(let i=0;i<n;i++){ for(let j=0;j<n;j++){
    const pairedX=[], pairedY=[];
    filtered.forEach(r=>{ const a=safeNum(r[cols[i]]); const b=safeNum(r[cols[j]]); if(a!==null&&b!==null){ pairedX.push(a); pairedY.push(b); } });
    z[i][j] = pairedX.length>1 ? pearson(pairedX, pairedY) : 0;
  } }
  const annotations=[]; for(let i=0;i<n;i++){ for(let j=0;j<n;j++){ annotations.push({ x:cols[j], y:cols[i], text: z[i][j].toFixed(2), showarrow:false, font:{color: Math.abs(z[i][j])>0.5? 'white':'black', size:11} }); } }
  const data=[{ z:z.map(row=>row.map(v=>Number(v.toFixed(2)))), x:cols, y:cols, type:'heatmap', colorscale:'RdBu', zmin:-1, zmax:1 }];
  const layout={height:520, title:'Korelasi antar Variabel Numerik', annotations:annotations, margin:{l:140, r:40, t:80, b:140}};
  Plotly.newPlot('heat', data, layout, {responsive:true});
  document.getElementById('heatInterp').innerText = "Grafik heatmap ini memperlihatkan angka korelasi Pearson antar kolom numerik. Nilai mendekati 1 menunjukkan korelasi positif kuat; mendekati -1 menunjukkan korelasi negatif kuat; nilai dekat 0 menunjukkan tidak ada korelasi linear yang jelas.";
}

function renderAnalysis(filtered){
  const x = xSel.value, y = ySel.value; const el = document.getElementById('analysisText');
  let text = "";
  if(x===y){
    text += `Catatan: Kamu memilih variabel yang sama (${x}). Scatter plot akan menjadi garis diagonal ‚Äî ini tidak memberi insight korelasi karena X selalu sama dengan Y.`;
  } else if(NUMERIC_COLS.includes(x) && NUMERIC_COLS.includes(y)){
    const xs=[], ys=[]; filtered.forEach(r=>{ const a=safeNum(r[x]); const b=safeNum(r[y]); if(a!==null&&b!==null){ xs.push(a); ys.push(b); } });
    if(xs.length>1){
      const c = pearson(xs, ys); const arah = c>0? 'searah (positif)' : (c<0? 'berlawanan arah (negatif)': 'tidak signifikan');
      text += `Berdasarkan analisis korelasi, terdapat nilai Pearson ${c.toFixed(2)} antara ${x} dan ${y}, yang menunjukkan hubungan ${arah}. Korelasi ini membantu menjelaskan seberapa besar perubahan pada ${x} berasosiasi dengan perubahan pada ${y}.`;
    } else text += "Tidak cukup data numerik untuk analisis korelasi yang kuat.";
  } else {
    text += `Variabel ${x} dan ${y} tidak keduanya numerik, sehingga analisis korelasi numerik tidak tersedia. Gunakan kombinasi visual kategorikal atau distribusi untuk memahami pola.`;
  }
  el.innerText = text;
}

function quantile(arr,q){
  const s = arr.slice().sort((a,b)=>a-b); const pos = (s.length-1)*q; const base = Math.floor(pos); const rest = pos-base;
  if(s[base+1]!==undefined) return s[base] + rest*(s[base+1]-s[base]);
  return s[base];
}

function renderAll(){
  const filtered = getFiltered();
  renderExec(filtered);
  renderKPI(filtered);
  renderPie(filtered);
  renderBar(filtered);
  renderScatter(filtered);
  renderBox(filtered);
  renderHeat(filtered);
  renderAnalysis(filtered);
}

applyBtn.addEventListener('click', renderAll);
leagueSel.addEventListener('change', renderAll);
xSel.addEventListener('change', renderAll);
ySel.addEventListener('change', renderAll);
resetBtn.addEventListener('click', ()=>{ populateControls(); renderAll(); });

function populateControls(){ leagueSel.innerHTML="<option>Semua Liga</option>"; LEAGUES.forEach(l=>{ const o=document.createElement('option'); o.value=o.text=l; leagueSel.appendChild(o); });
  xSel.innerHTML=""; ySel.innerHTML=""; ALL_COLS.forEach(c=>{ const ox=document.createElement('option'); ox.value=ox.text=c; xSel.appendChild(ox); const oy=document.createElement('option'); oy.value=oy.text=c; ySel.appendChild(oy); });
  if(ALL_COLS.includes(COL_MARKET)) xSel.value = COL_MARKET;
  if(ALL_COLS.includes(COL_GOALS)) ySel.value = COL_GOALS;
}
populateControls();
renderAll();
</script>
</body>
</html>
